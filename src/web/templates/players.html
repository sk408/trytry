{% extends "base.html" %}
{% block content %}
<h1 class="page-title">Players</h1>

<div class="card">
  <h2>Injured Players</h2>
  <div class="status">{{ injured_count }} injured</div>
  
  {% if injured %}
  <div class="scroll-x">
    <table>
      <thead>
        <tr>
          <th>Player</th>
          <th>Team</th>
          <th>PPG</th>
          <th>MPG</th>
          <th>Injury</th>
        </tr>
      </thead>
      <tbody>
        {% for p in injured %}
        <tr>
          <td>
            <strong>{{ p.name }}</strong>
            <span class="text-muted"> {{ p.position }}</span>
          </td>
          <td>{{ p.team }}</td>
          <td>{{ "%.1f"|format(p.ppg) }}</td>
          <td>{{ "%.1f"|format(p.mpg) }}</td>
          <td class="text-danger">{{ p.injury_note or 'Unknown' }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
  <div class="empty-state">
    <p>No injured players</p>
  </div>
  {% endif %}
</div>

<div class="card">
  <h2>All Players</h2>
  <p class="text-muted">{{ players|length }} total players</p>
  
  <div class="scroll-x">
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Pos</th>
          <th>Team</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        {% for p in players %}
        <tr>
          <td>{{ p.name }}</td>
          <td>{{ p.position }}</td>
          <td>{{ p.team }}</td>
          <td class="{{ 'text-danger' if p.is_injured else 'text-success' }}">
            {{ 'OUT' if p.is_injured else 'Active' }}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
