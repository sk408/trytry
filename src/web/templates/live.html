{% extends "base.html" %}
{% block content %}
<h1 class="page-title">Live Games</h1>

<div class="card">
  <h2>Live Games & Recommendations</h2>
  <p class="text-muted">Refreshes every visit by syncing live scores.</p>
  
  {% if error %}
  <div class="error-box">{{ error }}</div>
  {% endif %}
  
  {% if recs %}
  <div class="scroll-x">
    <table>
      <thead>
        <tr>
          <th>Status</th>
          <th>Home</th>
          <th>Away</th>
          <th>Score</th>
          <th>Period</th>
          <th>Clock</th>
          <th>Proj Spread</th>
          <th>Proj Total</th>
        </tr>
      </thead>
      <tbody>
        {% for rec in recs %}
        <tr>
          <td>{{ rec.status }}</td>
          <td>{{ rec.home_team }}</td>
          <td>{{ rec.away_team }}</td>
          <td>{{ rec.home_score }} - {{ rec.away_score }}</td>
          <td>{{ rec.period }}</td>
          <td>{{ rec.clock }}</td>
          <td>{{ "%.1f"|format(rec.projected_spread) }}</td>
          <td>{{ "%.1f"|format(rec.projected_total) }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
  <div class="empty-state">
    <p>No live games at the moment</p>
    <p class="text-muted">Check back during game time</p>
  </div>
  {% endif %}
</div>
{% endblock %}
